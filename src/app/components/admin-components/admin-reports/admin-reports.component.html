<app-admin-nav></app-admin-nav>
<div class="container">
  <div class="container mt-5">
    <h2 class="featurette-heading text-center" style="color: #95CA3D;">Generate event reports</h2>
    <div class="input-group " style="width: 400px !important; margin: auto">
      <select name="" id="" (change)="onTextChanged()" [(ngModel)]="eventSelector" class="form-control"
        value="Selecter">
        <option selected="true" value="">Select an event</option>
        <option *ngFor="let e of events; index as i" value="{{e.EventName}}">{{e.EventName}}</option>
      </select>
      <button class="btn btn-outline-success" (click)="onSelected()">Generate</button>
    </div>
    <div *ngIf="isReportError" class="text-danger text-center">Event name is required</div>
  </div>

  <div *ngIf="isGenerate" class="container mt-5" style="width: 800px !important">
    <div class="row text-center">
      <h2 class="featurette-heading" style="font-size: 40px; color: #95CA3D;">Event details summary</h2>
      <h2 class="featurette-heading">Event name: {{event.EventName}}</h2>
    </div>
    <h4 class="row featurette-heading">
      <div class="col-6">
        <p>Event date: {{dateToDisplay}}</p>
      </div>
    </h4>

    <div *ngIf="isGenerate" class="row mt-5">
      <div class="container col-6">
        <h2 class="featurette-heading" style="font-size: 30px; margin-top: 120px; color: #95CA3D;">Performers booked
        </h2>
        <p>This section summarises all the perfromers that have been booked</p>
      </div>
      <div class="col-6 text-center">
        <div class="circle text-center mb-4">
          <p>{{perfromersToDisplay.length}}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li *ngFor="let p of perfromersToDisplay; index as i" class="list-group-item">{{p.fName}} {{p.lName}}</li>
        </ul>
      </div>
    </div>

    <div class="row" style="margin-top: 200px !important">
      <div class="container col-6">
        <h2 class="featurette-heading" style="font-size: 30px; margin-top: 120px; color: #95CA3D;">Bookings confirmed
        </h2>
        <p>LThis sections summarises all the bookings that have been made</p>
      </div>
      <div class="col-6 text-center">
        <div class="circle text-center mb-4">
          <p>{{numberOfBookings}}/{{SeatsAvailable}}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">There are {{numberOfBookings}} guest/s booked</li>
          <li class="list-group-item">There are {{SeatsAvailable}} spaces remaining</li>
        </ul>
      </div>
    </div>
  </div>

</div>
